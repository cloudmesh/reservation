<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. DevStack &mdash; Cloudmesh 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Cloudmesh 0.1 documentation" href="index.html" />
    <link rel="prev" title="1. Vagrant" href="vagrant.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img src="_static/fg-logo-white-24x36.png">
          Cloudmesh Reservation</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Cloudmesh Reservation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#design-features">1.1. Design Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#code">1.2. Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#user-calanedar-based-scheduling-of-vms">1.3. User calanedar based scheduling of VMs</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#a-system-wide-reservation-system-for-clouds">1.4. A system wide reservation system for clouds</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">2. Deployment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="deploy.html#virtualenv">2.1. Virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html#requirements">2.2. Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html#install">2.3. Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html#directory-structure-of-the-project">2.4. Directory Structure of the project</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html#publishing-the-documentation">2.5. Publishing the Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rest.html">3. REST interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rest.html#references-for-rest">3.1. References for REST</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">4. Python API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="progress.html">1. Progress</a></li>
<li class="toctree-l1"><a class="reference internal" href="progress.html#list-of-tasks">2. List of tasks</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="vagrant.html">1. Vagrant</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vagrant.html#installation">1.1. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="vagrant.html#commands">1.2. Commands</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">2. DevStack</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">2. DevStack</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="vagrant.html" title="Previous Chapter: 1. Vagrant"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; 1. Vagrant</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/devstack.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="devstack">
<h1>2. DevStack<a class="headerlink" href="#devstack" title="Permalink to this headline">Â¶</a></h1>
<p>We asume you have virtualbox and vagrant installed. This procedure will guide you to install OpenStack using DevStack. The procedure will be carried out using Shell Script Provisioner available with Vagrant. There are other standard Provisioning tools such as Chef and Puppet available. For now we will use the Shell Script Provisioner for ease of use. The steps to be followed in a nutshell is given below:</p>
<ul class="simple">
<li>Have Virtual Box and Vagrant installed</li>
<li>Create Vagrantfile using <strong>vagrant init</strong> command</li>
<li>Create a shell script named <strong>install.sh</strong> (or a different name) with the steps to install OpenStack</li>
<li>Amend the Vagrantfile to call the script</li>
</ul>
<p>The install.sh script is shown below:</p>
<div class="highlight-python"><pre>#! /usr/bin/env bash

echo "Installing git ...."
apt-get update &gt;/dev/null 2&gt;&amp;1
apt-get install -y git &gt;/dev/null 2&gt;&amp;1
echo "Cloning devstack from devstack ...."
git clone https://github.com/openstack-dev/devstack.git
echo "Deploying OpenStack Cloud ...."
echo "This will take a while to setup ...."
echo " "
echo "####################################"
echo "#        PLEASE BE PATIENT         #"
echo "####################################"
echo " "
cd /home/vagrant/devstack/tools
chmod +x create-stack-user.sh
./create-stack-user.sh
chown -R stack:stack /home/vagrant/devstack
cd /home/vagrant/devstack
sudo -u stack ./stack.sh</pre>
</div>
<p>The above script needs to be placed in the project directory where the Vagrantfile is present. The next task is to modify the Vagrant file to call the shell script just created.</p>
<p>Add the following line to the Vagrantfile:</p>
<div class="highlight-python"><pre>config.vm.provision "shell", path: "install.sh"</pre>
</div>
<p>Once the file is saved, run the following commands to rebuilt the VM through Vagrant:</p>
<div class="highlight-python"><pre>vagrant destroy
vagrant up</pre>
</div>
<p>This would take some time to run as OpenStack installation takes around 10 - 15 minutes.</p>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Cloudmesh, please contact Gregor von Laszewski about this manual..<br/>
    </p>
  </div>
</footer>
  </body>
</html>